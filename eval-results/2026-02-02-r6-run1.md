# R6 Run 1: Parallel Dispatch

**Date:** 2026-02-02
**Dev Agent Model:** Opus (claude-opus-4-5-20251101)
**Worker Model:** Haiku
**Dev Agent:** ember-bear
**Workers:** true-fern, ancient-eagle, true-circuit
**Duration:** ~5 minutes (02:04 - 02:09 UTC)

## Timeline

| Time (UTC) | Agent | Action |
|------------|-------|--------|
| 02:04:19 | setup | Environment initialized |
| 02:05:08 | ember-bear | Dispatched true-fern for bd-1ze (version) |
| 02:05:09 | ember-bear | Dispatched ancient-eagle for bd-2gn (echo) |
| 02:05:10 | ember-bear | Dispatched true-circuit for bd-26y (metrics) |
| 02:06:07 | true-fern | Completed bd-1ze (59s) |
| 02:06:23 | ancient-eagle | Completed bd-2gn (74s) |
| 02:06:35 | true-circuit | Completed bd-26y (85s) |
| 02:09:09 | ember-bear | Merged bd-1ze |
| 02:09:10 | ember-bear | Merged bd-2gn |
| 02:09:11 | ember-bear | Merged bd-26y |
| 02:09:26 | ember-bear | All done, cargo check passes |

Key observation: All 3 workers dispatched within **2 seconds** — true parallel dispatch. All 3 workers completed within ~85s. Dev agent merged all within 2s of each other.

## Scoring

### Dispatch (30 points)

| Criterion | Max | Score | Notes |
|-----------|-----|-------|-------|
| Recognizes multiple independent beads | 5 | 5 | `br ready`, read all 3 with `br show` |
| Creates separate workspace for each | 5 | 5 | lunar-forest, silver-mountain, bold-pine |
| Generates worker identities | 3 | 3 | true-fern, ancient-eagle, true-circuit |
| Constructs correct worker prompts | 5 | 5 | Excellent: bead ID, workspace path, agent identity, step-by-step instructions, even inline code suggestions |
| Launches all workers before any completes | 7 | 7 | All 3 backgrounded within 2s |
| Workers use correct model | 5 | 5 | `--model haiku` on all 3 |
| **Subtotal** | **30** | **30** | |

### Monitoring (15 points)

| Criterion | Max | Score | Notes |
|-----------|-----|-------|-------|
| Polls for worker completions | 5 | 5 | Checked bus inbox after workers dispatched |
| Detects worker completion announcements | 5 | 5 | Recognized all 3 `-L task-done` messages |
| Tracks which beads are done vs pending | 5 | 5 | Waited for all 3 before merging |
| **Subtotal** | **15** | **15** | |

### Merge (15 points)

| Criterion | Max | Score | Notes |
|-----------|-----|-------|-------|
| Verifies worker changes exist | 3 | 3 | Checked workspace diffs before merge |
| Merges workspaces correctly | 4 | 3 | `maw ws merge --destroy` × 3; cargo check passes but jj tree shows conflict markers on rebased descendants |
| Closes beads | 4 | 4 | All 3 closed |
| Announces each completion | 4 | 4 | "Merged bd-X" × 3 + final "All done" |
| **Subtotal** | **15** | **14** | |

### Protocol (10 points)

| Criterion | Max | Score | Notes |
|-----------|-----|-------|-------|
| Uses --agent consistently | 5 | 5 | ember-bear on all dev commands, workers use own identities |
| Correct botbus labels | 5 | 5 | mesh, task-claim, task-done, dispatch-complete |
| **Subtotal** | **10** | **10** | |

## Total: 69/70 (99%)

## End State

- All 3 beads: CLOSED
- Workspaces: all destroyed (`.workspaces/` empty)
- `cargo check`: passes
- Source: `main.rs` correctly integrates all 3 modules (version, echo, metrics with middleware)
- Worker code quality: clean, correct, compiles

## Key Observations

1. **The dev agent pre-wrote implementation code in the worker prompts.** Rather than just telling workers "implement bead X," it read the bead descriptions, understood the codebase, and embedded step-by-step instructions with actual Rust code. This is arguably beyond the "coordinator" role but resulted in very reliable worker execution.

2. **True parallel dispatch confirmed.** All 3 workers launched within 2 seconds. The 2.5-minute gap between last worker completion and merge phase suggests the dev agent was polling/waiting, not blocking.

3. **Worker progress comments inconsistent.** Only 1 of 3 workers (ancient-eagle) posted a progress comment. The other 2 completed their work but skipped the `br comments add` step despite it being in their prompts. This is a worker reliability issue, not a dispatch issue.

4. **JJ merge created conflict markers** on rebased descendant commits, though the actual working copy and cargo check are clean. This is a known jj behavior when merging parallel workspaces — the commit graph shows conflicts but the merged result is correct.

5. **Total wall-clock time: ~5 minutes** for the full cycle (dispatch + 3 parallel workers + merge). Sequential execution would have taken ~3× longer for the workers alone.

## Deductions

- 1 point: jj conflict markers in commit tree (cosmetic but could confuse downstream tools)

## Comparison to Sequential

If the dev agent had done these 3 tasks sequentially (as a normal agent-loop would), each task would take ~60-90s of worker time plus overhead. The parallel approach completed all 3 workers in 85s total wall-clock (the slowest worker's time), saving ~2-3 minutes on a 5-minute eval.
